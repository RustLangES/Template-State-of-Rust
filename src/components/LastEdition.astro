---
const { edition, locale, survey } = Astro.props
import { Image } from 'astro:assets';
import logo from './../assets/images/Logo.png';
import uiLang from '../../public/i18n/ui.json';
interface Props {
    locale: "en";
};
---
<section class="last-edition">
    <div class:list={['survey-edition survey-edition-last']}>
        <div class="survey-edition-card" >
                    <h4 class="survey-edition-status">
                        {uiLang["last.edition.title"][locale]}
                    </h4>
    
            <h4 class="survey-edition-year">2023</h4>
    
            <a class="image-wrapper" >
                <span class="image-inner" style={`background-image: url(${logo.src})`}></span>
            </a>
        </div>
        <div class="survey-edition-actions survey-open">
            <a class="button">
                <span>{uiLang["last.edition.btn"][locale]}</span>
            </a>
        </div>
        <!-- {
            isOpen ? (
                    <TakeSurvey
                        client:load
                        locale={getLocaleSubset(locale, ['homepage.take_survey'])}
                        url={questionsUrl}
                    />
            ) : (
                <div class="survey-edition-actions survey-closed button-group">
                    {questionsUrl && (
                        <a href={questionsUrl} class="button">
                            <T
                                locale={locale}
                                k={isPreview ? 'homepage.preview_questions' : 'homepage.view_questions'}
                            />
                        </a>
                    )}
                    {resultsUrl && edition.resultsStatus === ResultsStatusEnum.PUBLISHED ? (
                        <a href={resultsUrl} class="button">
                            <T locale={locale} k="homepage.view_results" />
                        </a>
                    ) : (
                        <span class="button">
                            <T locale={locale} k="homepage.results_coming_soon" />
                        </span>
                    )}
                </div>
            )
        } -->
    </div>
</section>


<style lang="scss">

    .last-edition,
    .past-editions {
        margin-bottom: var(--doublespacing);
    }

    .survey-edition-card {
        // border: var(--border);
        // background: linear-gradient(0deg, var(--background), var(--backgroundSecondary));
        // padding: var(--spacing);
        position: relative;
        border-radius: 3px;
        overflow: hidden;
        margin-bottom: var(--quarterspacing);
    }

    .survey-edition-status,
    .survey-edition-year {
        position: absolute;
        background: var(--primary);
        color: var(--background);
        padding: var(--quarterspacing) var(--halfspacing);
        top: 0;
    }

    .survey-edition-status {
        left: 0;
        text-transform: uppercase;
        background: var(--secondary);
        color: var(--text);
    }

    .survey-edition-year {
        right: 0;
    }

    .image-wrapper {
        padding: var(--spacing) var(--halfspacing);
        aspect-ratio: 300/200;
        display: grid;
        place-items: center;
        overflow: hidden;
    }

    .image-inner {
        width: 100%;
        height: 100%;
        display: block;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center center;
    }

    img {
        max-width: 100%;
        max-height: 100%;
        display: block;
    }

    .survey-edition-last {
        .image-wrapper {
            aspect-ratio: 400/200;
        }
    }

    .survey-open {
    }
</style>